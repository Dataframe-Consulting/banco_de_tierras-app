# Diagrama Entidad-RelaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    VOCACION     â”‚       â”‚ SITUACION_FISICAâ”‚       â”‚VOCACION_ESPECIF â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”‘ id           â”‚       â”‚ ğŸ”‘ id           â”‚       â”‚ ğŸ”‘ id           â”‚
â”‚    valor        â”‚       â”‚    nombre       â”‚       â”‚    valor        â”‚
â”‚    created_at   â”‚       â”‚    created_at   â”‚       â”‚    created_at   â”‚
â”‚    updated_at   â”‚       â”‚    updated_at   â”‚       â”‚    updated_at   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                          â”‚                          â”‚
         â”‚                          â”‚                          â”‚
         â”‚ N:1                      â”‚ N:1                      â”‚ N:1
         â”‚                          â”‚                          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚    PROYECTO     â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ ğŸ”‘ id           â”‚
                          â”‚    nombre       â”‚
                          â”‚ superficie_totalâ”‚
                          â”‚    esta_activo  â”‚
                          â”‚    comentarios  â”‚
                          â”‚ ğŸ”— situacion_fisica_idâ”‚
                          â”‚ ğŸ”— vocacion_id  â”‚
                          â”‚ ğŸ”— vocacion_especifica_idâ”‚
                          â”‚    created_at   â”‚
                          â”‚    updated_at   â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ 1:N
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   PROPIEDAD     â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ ğŸ”‘ id           â”‚
                          â”‚    nombre       â”‚
                          â”‚    superficie   â”‚
                          â”‚ valor_comercial â”‚
                          â”‚ anio_valor_comercialâ”‚
                          â”‚ clave_catastral â”‚
                          â”‚   base_predial  â”‚
                          â”‚  adeudo_predial â”‚
                          â”‚anios_pend_predialâ”‚
                          â”‚   comentarios   â”‚
                          â”‚ ğŸ”— proyecto_id  â”‚
                          â”‚   created_at    â”‚
                          â”‚   updated_at    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                           â”‚                           â”‚
        â”‚                           â”‚                           â”‚
        â–¼                           â”‚                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PROPIETARIO    â”‚                 â”‚                 â”‚    UBICACION    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”‘ id           â”‚                 â”‚                 â”‚ ğŸ”‘ id           â”‚
â”‚    nombre       â”‚                 â”‚                 â”‚    nombre       â”‚
â”‚    rfc          â”‚                 â”‚                 â”‚    created_at   â”‚
â”‚    created_at   â”‚                 â”‚                 â”‚    updated_at   â”‚
â”‚    updated_at   â”‚                 â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚                           â”‚
        â”‚                           â”‚                           â”‚
        â”‚ N:M                       â”‚                           â”‚ N:M
        â”‚                           â”‚                           â”‚
        â–¼                           â”‚                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚PROPIETARIO_PROP â”‚                 â”‚                 â”‚UBICACION_PROP   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ”— propietario_idâ”‚                 â”‚                 â”‚ğŸ”— ubicacion_id  â”‚
â”‚ğŸ”— propiedad_id  â”‚                 â”‚                 â”‚ğŸ”— propiedad_id  â”‚
â”‚   es_socio      â”‚                 â”‚                 â”‚   created_at    â”‚
â”‚sociedad_porcentajeâ”‚               â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   created_at    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                           â”‚                           â”‚
        â–¼                           â”‚                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    GARANTIA     â”‚                 â”‚                 â”‚ PROCESO_LEGAL   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”‘ id           â”‚                 â”‚                 â”‚ ğŸ”‘ id           â”‚
â”‚  beneficiario   â”‚                 â”‚                 â”‚    abogado      â”‚
â”‚     monto       â”‚                 â”‚                 â”‚ tipo_proceso    â”‚
â”‚ fecha_inicio    â”‚                 â”‚                 â”‚    estatus      â”‚
â”‚  fecha_fin      â”‚                 â”‚                 â”‚  comentarios    â”‚
â”‚   created_at    â”‚                 â”‚                 â”‚   created_at    â”‚
â”‚   updated_at    â”‚                 â”‚                 â”‚   updated_at    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                           â”‚                           â”‚
        â”‚ N:M                       â”‚                           â”‚ N:M
        â”‚                           â”‚                           â”‚
        â–¼                           â”‚                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚GARANTIA_PROP    â”‚                 â”‚                 â”‚PROCESO_LEGAL_   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚                 â”‚   PROPIEDAD     â”‚
â”‚ğŸ”— garantia_id   â”‚                 â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ”— propiedad_id  â”‚                 â”‚                 â”‚ğŸ”—proceso_legal_idâ”‚
â”‚   created_at    â”‚                 â”‚                 â”‚ğŸ”— propiedad_id  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚                 â”‚   created_at    â”‚
                                    â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚                 â”‚     RENTA       â”‚
                                    â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                    â”‚                 â”‚ ğŸ”‘ id           â”‚
                                    â”‚                 â”‚nombre_comercial â”‚
                                    â”‚                 â”‚  razon_social   â”‚
                                    â”‚                 â”‚ renta_sin_iva   â”‚
                                    â”‚                 â”‚meses_deposito_garantiaâ”‚
                                    â”‚                 â”‚  meses_gracia   â”‚
                                    â”‚                 â”‚meses_gracia_fecha_*â”‚
                                    â”‚                 â”‚meses_renta_anticipadaâ”‚
                                    â”‚                 â”‚renta_anticipada_*â”‚
                                    â”‚                 â”‚ incremento_mes  â”‚
                                    â”‚                 â”‚ incremento_nota â”‚
                                    â”‚                 â”‚ inicio_vigencia â”‚
                                    â”‚                 â”‚fin_vigencia_*   â”‚
                                    â”‚                 â”‚ vigencia_nota   â”‚
                                    â”‚                 â”‚esta_disponible  â”‚
                                    â”‚                 â”‚metros_cuadrados_*â”‚
                                    â”‚                 â”‚   created_at    â”‚
                                    â”‚                 â”‚   updated_at    â”‚
                                    â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚                           â”‚
                                    â”‚                           â”‚ N:M
                                    â”‚                           â”‚
                                    â”‚                           â–¼
                                    â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚                 â”‚PROPIEDAD_RENTA  â”‚
                                    â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                    â”‚                 â”‚ğŸ”— propiedad_id  â”‚
                                    â”‚                 â”‚ğŸ”— renta_id      â”‚
                                    â”‚                 â”‚   created_at    â”‚
                                    â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚     ARCHIVO     â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ ğŸ”‘ id           â”‚
                          â”‚     url         â”‚
                          â”‚ğŸ”— proyecto_id   â”‚
                          â”‚ğŸ”— propiedad_id  â”‚
                          â”‚ğŸ”— propietario_idâ”‚
                          â”‚ğŸ”— garantia_id   â”‚
                          â”‚ğŸ”—proceso_legal_idâ”‚
                          â”‚   created_at    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      USER       â”‚                          â”‚   AUDITORIA     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”‘ id           â”‚                          â”‚ ğŸ”‘ id           â”‚
â”‚   username      â”‚                          â”‚   operacion     â”‚
â”‚    email        â”‚                          â”‚ tabla_afectada  â”‚
â”‚hashed_password  â”‚                          â”‚registro_tabla_idâ”‚
â”‚   created_at    â”‚                          â”‚usuario_username â”‚
â”‚   updated_at    â”‚                          â”‚valores_anterioresâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚ valores_nuevos  â”‚
                                             â”‚   created_at    â”‚
                                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LEYENDA:
ğŸ”‘ = Clave Primaria
ğŸ”— = Clave ForÃ¡nea
N:M = RelaciÃ³n Muchos a Muchos
N:1 = RelaciÃ³n Muchos a Uno
1:N = RelaciÃ³n Uno a Muchos
```

## ğŸ“‹ **Resumen de relaciones:**

### **Entidades Principales:**
- **PROYECTO** (centro del sistema) â†’ Contiene mÃºltiples propiedades
- **PROPIEDAD** â†’ Entidad principal de negocio  
- **PROPIETARIO** â†’ DueÃ±os de las propiedades
- **RENTA** â†’ Contratos de arrendamiento
- **GARANTIA** â†’ GarantÃ­as financieras
- **PROCESO_LEGAL** â†’ GestiÃ³n legal

### **CatÃ¡logos:**
- **VOCACION** / **VOCACION_ESPECIFICA** â†’ ClasificaciÃ³n de uso de suelo
- **SITUACION_FISICA** â†’ Estado fÃ­sico de proyectos
- **UBICACION** â†’ Ubicaciones geogrÃ¡ficas

### **Sistemas:**
- **USER** â†’ AutenticaciÃ³n y control de acceso
- **ARCHIVO** â†’ GestiÃ³n documental (Azure Storage)
- **AUDITORIA** â†’ Trazabilidad de cambios

### **Relaciones Clave:**
1. **Proyecto** 1:N **Propiedad** (Un proyecto tiene muchas propiedades)
2. **Propiedad** N:M **Propietario** (Propiedades pueden tener mÃºltiples dueÃ±os)
3. **Propiedad** N:M **Renta** (Propiedades pueden tener mÃºltiples contratos)
4. **Propiedad** N:M **Garantia** (MÃºltiples garantÃ­as por propiedad)
5. **Propiedad** N:M **Proceso_Legal** (MÃºltiples procesos legales)
6. **Archivo** puede asociarse a cualquier entidad principal